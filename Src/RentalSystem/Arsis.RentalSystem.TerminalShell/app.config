<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <sectionGroup name="spring">
      <section name="context" type="Spring.Context.Support.ContextHandler, Spring.Core" />
      <section name="objects" type="Spring.Context.Support.DefaultSectionHandler, Spring.Core" />
    </sectionGroup>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
    <section name="terminal.configuration" type="Arsis.RentalSystem.TerminalShell.Configuration.TerminalConfiguration, TerminalShell"/>
    <section name="cardreader.configuration" type="Arsis.RentalSystem.TerminalShell.Configuration.CardReaderConfiguration, TerminalShell"/>
  </configSections>

  <spring>
    <context autowire="true">
      <resource uri="~/Bindings.config"/>
    </context>
  </spring>

  <log4net>
    <appender name="GeneralAppender" type="log4net.Appender.RollingFileAppender">
      <appendToFile value="true" />
      <maximumFileSize value="500KB"/>
      <maxSizeRollBackups value="0"/>
      <rollingStyle value="Date"/>
      <lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
      <file value="Logs/AppLog.log" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="[%date{yyyy-MM-dd HH:mm:ss}] [%level] [%logger{1}] - %message%newline" />
      </layout>
    </appender>
    <root name="Arsis.RentalSystem.TerminalShell">
      <level value="ALL" />
      <appender-ref ref="GeneralAppender" />
    </root>
  </log4net>

  <system.diagnostics>
    <trace autoflush="true" indentsize="4">
      <listeners>
        <remove name="Default" />
        <add name="OwnListener" type="System.Diagnostics.TextWriterTraceListener" initializeData="TermDevices.log" />
      </listeners>
    </trace>
  </system.diagnostics>

  <connectionStrings>
    <add name="RentalSystemConnectionString"
        connectionString="Data Source=localhost\sqlexpress;Initial Catalog=RentalSystem;Integrated Security=True"
        providerName="System.Data.SqlClient" />
  </connectionStrings>

  <terminal.configuration rental="true" other="true" parking="false" show.error="true"/>

  <cardreader.configuration FullyPaidTariffId="1" ExternalPayTariffId="2" port="COM3"/>
</configuration>
